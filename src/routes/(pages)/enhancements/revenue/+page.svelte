<!-- RevenueAccelerate Section -->
<section class="relative overflow-hidden bg-gradient-to-b from-slate-50 to-white py-24">
  <div class="absolute inset-0">
    <!-- Base gradient -->
    <div class="absolute inset-0 bg-gradient-to-br from-[#f8faff] via-white to-[#f0f4ff]"></div>
    
    <!-- Mesh gradient -->
    <div class="absolute inset-0"
         style="background: 
             radial-gradient(circle at 0% 0%, rgba(96, 91, 255, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 100% 0%, rgba(50, 50, 93, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 100% 100%, rgba(96, 91, 255, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 0% 100%, rgba(50, 50, 93, 0.03) 0%, transparent 50%);">
    </div>

    <!-- Grid pattern -->
    <div class="absolute inset-0"
         style="background-image: 
            linear-gradient(rgba(96, 91, 255, 0.01) 1px, transparent 1px),
            linear-gradient(90deg, rgba(96, 91, 255, 0.01) 1px, transparent 1px);
            background-size: 40px 40px;">
    </div>

    <!-- Floating elements -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute top-1/4 right-1/4 w-[500px] h-[500px] 
                  bg-gradient-to-br from-[#605bff]/5 via-[#605bff]/3 to-transparent 
                  rounded-full animate-float-slow opacity-70"
           style="animation-duration: 25s;">
      </div>
      <div class="absolute -bottom-32 -left-32 w-[600px] h-[600px] 
                  bg-gradient-to-tr from-[#32325d]/5 via-[#605bff]/3 to-transparent 
                  rounded-full animate-float-slow opacity-70"
           style="animation-duration: 30s; animation-delay: -5s;">
      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="grid lg:grid-cols-2 gap-16 items-center">
      <!-- Left Content -->
      <div class="space-y-8">
        <!-- Badge -->
        <div class="inline-flex items-center gap-3 px-5 py-2.5 rounded-full 
                    bg-[#605bff]/5 border border-[#605bff]/10 
                    shadow-sm transition-all duration-500">
          <div class="w-5 h-5 rounded-full bg-[#605bff] flex items-center justify-center">
            <svg class="w-3 h-3 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" 
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <span class="text-sm font-medium text-[#605bff] tracking-wide">REVENUEACCELERATE</span>
        </div>

        <h2 class="text-4xl sm:text-5xl font-medium text-[#32325d] leading-[1.2]">
          Unlock more revenue using
          <span class="bg-gradient-to-r from-[#605bff] to-[#605bff]/80 bg-clip-text text-transparent">
            data and machine learning
          </span>
        </h2>

        <p class="text-xl text-[#32325d]/70">
          Discover the tools that enable the best possible user experience when it comes to payments. You'll squeeze more revenue out of every transaction and never miss a moment to convert your customers again.
        </p>

        <div class="pt-4">
          <a href="/contact" 
             class="inline-block px-8 py-4 rounded-xl bg-[#605bff] text-white font-medium
                    hover:bg-[#605bff]/90 transition-colors duration-300">
            Learn more
          </a>
        </div>
      </div>

      <!-- Right Content - Image with matching height -->
      <div class="relative order-first lg:order-last">
        <div class="absolute -inset-4 bg-gradient-to-r from-[#605bff]/10 to-transparent rounded-3xl blur-xl"></div>
        
        <div class="relative rounded-2xl overflow-hidden">
          <!-- Changed to fixed height to match other sections -->
          <div class="relative h-[600px] sm:h-[700px] rounded-2xl overflow-hidden bg-gradient-to-b from-[#605bff]/5">
            <!-- Image with object-position to control focus -->
            <img 
              src="/images/reven.webp" 
              alt="Revenue Acceleration Dashboard" 
              class="w-full h-full object-cover object-center rounded-2xl transform hover:scale-105 transition-transform duration-700"
            />
            
            <!-- Glass Effect Overlay -->
            <div class="absolute inset-0 bg-gradient-to-t from-[#605bff]/10 to-transparent opacity-60"></div>
            
            <!-- Decorative Elements -->
            <div class="absolute -top-8 -right-8 w-64 h-64 bg-[#605bff]/10 rounded-full blur-3xl"></div>
            <div class="absolute -bottom-12 -left-12 w-64 h-64 bg-[#605bff]/10 rounded-full blur-3xl"></div>
          </div>
        </div>

        <!-- Enhanced Decorative Elements -->
        <div class="absolute -top-8 -right-8 w-32 h-32 bg-[#605bff]/10 rounded-full blur-2xl animate-pulse"></div>
        <div class="absolute -bottom-12 -left-12 w-40 h-40 bg-[#605bff]/10 rounded-full blur-2xl animate-pulse animation-delay-2000"></div>
        
        <!-- Additional Light Effects -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 h-1/2 bg-[#605bff]/20 rounded-full blur-3xl animate-pulse"></div>
      </div>
    </div>
  </div>
</section>

<!-- Benefits Section -->
<section class="relative overflow-hidden bg-gradient-to-b from-slate-50 to-white py-24">
  <div class="absolute inset-0">
    <!-- Base gradient -->
    <div class="absolute inset-0 bg-gradient-to-br from-[#f8faff] via-white to-[#f0f4ff]"></div>
    
    <!-- Mesh gradient -->
    <div class="absolute inset-0"
         style="background: 
             radial-gradient(circle at 0% 0%, rgba(96, 91, 255, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 100% 0%, rgba(50, 50, 93, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 100% 100%, rgba(96, 91, 255, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 0% 100%, rgba(50, 50, 93, 0.03) 0%, transparent 50%);">
    </div>

    <!-- Grid pattern -->
    <div class="absolute inset-0"
         style="background-image: 
            linear-gradient(rgba(96, 91, 255, 0.01) 1px, transparent 1px),
            linear-gradient(90deg, rgba(96, 91, 255, 0.01) 1px, transparent 1px);
            background-size: 40px 40px;">
    </div>

    <!-- Floating elements -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute top-1/4 right-1/4 w-[500px] h-[500px] 
                  bg-gradient-to-br from-[#605bff]/5 via-[#605bff]/3 to-transparent 
                  rounded-full animate-float-slow opacity-70"
           style="animation-duration: 25s;">
      </div>
      <div class="absolute -bottom-32 -left-32 w-[600px] h-[600px] 
                  bg-gradient-to-tr from-[#32325d]/5 via-[#605bff]/3 to-transparent 
                  rounded-full animate-float-slow opacity-70"
           style="animation-duration: 30s; animation-delay: -5s;">
      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="grid md:grid-cols-3 gap-16">
      <!-- Increase authorization rates -->
      <div class="relative group">
        <div class="absolute -inset-4 bg-gradient-to-r from-[#605bff]/10 to-transparent rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="relative space-y-6">
          <!-- Icon -->
          <div class="w-12 h-12 rounded-xl bg-[#605bff]/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
            <svg class="w-6 h-6 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>

          <h3 class="text-xl font-medium text-[#32325d]">
            Increase authorization rates
          </h3>

          <p class="text-[#32325d]/70">
            Our proprietary machine learning model learns from platform wide data and optimizes for highest auth rates.
          </p>
        </div>
      </div>

      <!-- Reduce involuntary churn -->
      <div class="relative group">
        <div class="absolute -inset-4 bg-gradient-to-r from-[#605bff]/10 to-transparent rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="relative space-y-6">
          <!-- Icon -->
          <div class="w-12 h-12 rounded-xl bg-[#605bff]/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
            <svg class="w-6 h-6 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M3 10h18M7 15h1m4 0h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" 
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>

          <h3 class="text-xl font-medium text-[#32325d]">
            Reduce involuntary churn
          </h3>

          <p class="text-[#32325d]/70">
            Card information is always kept up-to-date and declined transactions are re-attempted at optimal times.
          </p>
        </div>
      </div>

      <!-- Lower payment costs -->
      <div class="relative group">
        <div class="absolute -inset-4 bg-gradient-to-r from-[#605bff]/10 to-transparent rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="relative space-y-6">
          <!-- Icon -->
          <div class="w-12 h-12 rounded-xl bg-[#605bff]/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
            <svg class="w-6 h-6 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" 
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>

          <h3 class="text-xl font-medium text-[#32325d]">
            Lower payment costs
          </h3>

          <p class="text-[#32325d]/70">
            Optimize for lower costs wherever possible while improving authorization rates.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Checkout Optimization Section -->
<section class="relative overflow-hidden bg-gradient-to-b from-slate-50 to-white py-24">
  <div class="absolute inset-0">
    <!-- Base gradient -->
    <div class="absolute inset-0 bg-gradient-to-b from-white via-[#605bff]/3 to-white"></div>
    
    <!-- Subtle grid -->
    <div class="absolute inset-0"
         style="background-image: 
            linear-gradient(rgba(96, 91, 255, 0.01) 1px, transparent 1px),
            linear-gradient(90deg, rgba(96, 91, 255, 0.01) 1px, transparent 1px);
            background-size: 30px 30px;">
    </div>

    <!-- Floating gradient -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 
                  w-[800px] h-[800px] bg-gradient-radial from-[#605bff]/5 to-transparent 
                  rounded-full opacity-60 blur-3xl">
      </div>
      <!-- Additional floating element -->
      <div class="absolute bottom-0 right-0 w-[500px] h-[500px] 
                  bg-gradient-to-bl from-[#605bff]/5 via-[#605bff]/3 to-transparent 
                  rounded-full animate-float-slow opacity-70"
           style="animation-duration: 25s;">
      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <!-- Section Header -->
    <div class="text-center max-w-3xl mx-auto mb-16">
      <h2 class="text-4xl sm:text-5xl font-medium text-[#32325d] leading-[1.2] mb-6">
        Optimize every transaction from
        <span class="bg-gradient-to-r from-[#605bff] to-[#605bff]/80 bg-clip-text text-transparent">
          checkout to recovery
        </span>
      </h2>
      <p class="text-xl text-[#32325d]/70">
        The all-in-one payments optimization toolkit that gets the most out of every transaction at each point of the payment journey.
      </p>
    </div>

    <div class="grid lg:grid-cols-2 gap-16 items-center">
      <!-- Left Content -->
      <div class="space-y-8">
        <h3 class="text-3xl font-medium text-[#32325d]">Checkout</h3>
        <p class="text-xl text-[#32325d]/70">
          Create frictionless shopping experiences by asking shoppers to authenticate only when needed and easily reduce customer drop-off rates.
        </p>

        <!-- Feature List -->
        <div class="space-y-6">
          <div class="flex items-start gap-4">
            <div class="w-5 h-5 rounded-full bg-[#605bff]/10 flex items-center justify-center mt-1">
              <svg class="w-3 h-3 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M5 13l4 4L19 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div>
              <h4 class="text-lg font-medium text-[#32325d] mb-2">Authentication Engine:</h4>
              <p class="text-[#32325d]/70">
                Automatically determines whether a bank needs to authenticate a shopper and if so, how to do it.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Content - Dynamic Authentication Interface -->
      <div class="relative">
        <div class="absolute -inset-4 bg-gradient-to-r from-[#605bff]/10 to-transparent rounded-3xl blur-xl"></div>
        
        <div class="relative">
          <!-- Phone Frame -->
          <div class="relative w-[320px] mx-auto">
            <!-- Authentication Screen -->
            <div class="bg-white rounded-3xl overflow-hidden shadow-2xl border border-[#605bff]/10">
              <!-- Back Button -->
              <div class="flex items-center gap-2 p-6 border-b border-[#605bff]/10">
                <svg class="w-5 h-5 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M19 12H5m7 7l-7-7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>

              <!-- Authentication Content -->
              <div class="p-6 space-y-8">
                <div class="text-center space-y-4">
                  <div class="w-16 h-16 bg-[#605bff]/10 rounded-full mx-auto flex items-center justify-center">
                    <svg class="w-8 h-8 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                      <path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" 
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                  <h3 class="text-2xl font-medium text-[#32325d]">Purchase authentication</h3>
                  <p class="text-[#32325d]/70">
                    Your online payment is being secured using Your Bank. Please verify your identity.
                  </p>
                </div>

                <!-- Face ID Section -->
                <div class="bg-[#605bff]/5 rounded-xl p-6 text-center space-y-4">
                  <div class="w-20 h-20 mx-auto relative">
                    <div class="absolute inset-0 bg-[#605bff]/20 rounded-xl animate-ping"></div>
                    <div class="relative bg-[#605bff]/10 rounded-xl p-4">
                      <svg class="w-12 h-12 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M9 10h.01M15 10h.01M12 2a8 8 0 0 0-8 8v12l6.07-3.35a8 8 0 0 1 3.86-1 8 8 0 0 1 3.86 1L24 22V10a8 8 0 0 0-8-8h-4z" 
                              stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </div>
                  </div>
                  <span class="text-[#32325d]">Face ID</span>
                </div>

                <!-- Bank Logo -->
                <div class="flex justify-center">
                  <div class="bg-[#605bff] text-white rounded-lg px-4 py-2">
                    <span class="font-medium">Your Bank</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Decorative Elements -->
            <div class="absolute -top-8 -right-8 w-32 h-32 bg-[#605bff]/10 rounded-full blur-2xl animate-pulse"></div>
            <div class="absolute -bottom-12 -left-12 w-40 h-40 bg-[#605bff]/10 rounded-full blur-2xl animate-pulse"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Routing Section -->
<script>
  import { onMount } from 'svelte';
  let matrix = Array(6).fill().map(() => Array(12).fill(0));
  let activePath = [];
  let isProcessing = false;
  let isApproved = false;

  function updateMatrix() {
    matrix = matrix.map(row => 
      row.map(() => Math.random() > 0.8 ? 1 : 0)
    );
  }

  function simulateRouting() {
    if (isProcessing) return;
    
    isProcessing = true;
    isApproved = false;
    activePath = [];
    
    // Generate path coordinates
    let currentRow = 0;
    while (currentRow < 6) {
      activePath.push({
        row: currentRow,
        col: Math.floor(Math.random() * 12)
      });
      currentRow++;
    }

    // Animate path
    let step = 0;
    const pathInterval = setInterval(() => {
      if (step < activePath.length) {
        matrix[activePath[step].row][activePath[step].col] = 2; // Active path
        matrix = [...matrix];
        step++;
      } else {
        clearInterval(pathInterval);
        setTimeout(() => {
          isApproved = true;
          setTimeout(() => {
            isProcessing = false;
            updateMatrix();
          }, 2000);
        }, 500);
      }
    }, 200);
  }

  onMount(() => {
    updateMatrix();
    const interval = setInterval(() => {
      if (!isProcessing) {
        simulateRouting();
      }
    }, 5000);

    return () => clearInterval(interval);
  });
</script>

<section class="relative overflow-hidden bg-gradient-to-b from-slate-50 to-white py-24">
  <div class="absolute inset-0">
    <!-- Base gradient -->
    <div class="absolute inset-0 bg-gradient-to-br from-[#f8faff] via-white to-[#f0f4ff]"></div>
    
    <!-- Mesh gradient -->
    <div class="absolute inset-0"
         style="background: 
             radial-gradient(circle at 0% 0%, rgba(96, 91, 255, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 100% 0%, rgba(50, 50, 93, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 100% 100%, rgba(96, 91, 255, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 0% 100%, rgba(50, 50, 93, 0.03) 0%, transparent 50%);">
    </div>

    <!-- Grid pattern -->
    <div class="absolute inset-0"
         style="background-image: 
            linear-gradient(rgba(96, 91, 255, 0.01) 1px, transparent 1px),
            linear-gradient(90deg, rgba(96, 91, 255, 0.01) 1px, transparent 1px);
            background-size: 40px 40px;">
    </div>

    <!-- Floating elements -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute top-1/4 right-1/4 w-[500px] h-[500px] 
                  bg-gradient-to-br from-[#605bff]/5 via-[#605bff]/3 to-transparent 
                  rounded-full animate-float-slow opacity-70"
           style="animation-duration: 25s;">
      </div>
      <div class="absolute -bottom-32 -left-32 w-[600px] h-[600px] 
                  bg-gradient-to-tr from-[#32325d]/5 via-[#605bff]/3 to-transparent 
                  rounded-full animate-float-slow opacity-70"
           style="animation-duration: 30s; animation-delay: -5s;">
      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="grid lg:grid-cols-2 gap-16 items-center">
      <!-- Left Content - Enhanced Dynamic Routing Interface -->
      <div class="relative">
        <div class="absolute -inset-4 bg-gradient-to-r from-[#605bff]/10 to-transparent rounded-3xl blur-xl"></div>
        
        <div class="relative rounded-2xl overflow-hidden">
          <div class="bg-[#0a1f44] p-8 rounded-2xl">
            <!-- Animated Card Number Display -->
            <div class="bg-[#605bff]/10 rounded-full px-4 py-2 inline-flex items-center gap-2 mb-8
                        transform hover:scale-105 transition-transform cursor-pointer"
                 on:click={simulateRouting}>
              <div class="relative">
                <div class="absolute -inset-2 bg-[#605bff]/20 rounded-full animate-ping"></div>
                <svg class="w-5 h-5 text-[#605bff] relative" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M3 10h18M7 15h1m4 0h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" 
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <span class="text-[#605bff] font-mono relative">
                <span class="absolute inset-0 animate-pulse bg-[#605bff]/10"></span>
                ****3456
              </span>
            </div>

            <!-- Enhanced Routing Matrix -->
            <div class="relative">
              <div class="text-center mb-4 relative">
                <span class="text-white/80 text-lg font-medium">
                  {#if isProcessing}
                    Processing Transaction...
                  {:else}
                    Ready for Routing
                  {/if}
                </span>
                {#if isProcessing}
                  <div class="absolute -right-2 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-[#605bff] animate-ping"></div>
                {/if}
              </div>
              
              <!-- Dynamic Matrix Grid -->
              <div class="grid grid-cols-12 gap-1 font-mono text-sm mb-8 relative">
                {#each matrix as row, rowIndex}
                  {#each row as cell, colIndex}
                    <div class="w-6 h-6 flex items-center justify-center transition-all duration-300
                               {activePath.some(p => p.row === rowIndex && p.col === colIndex) 
                                 ? 'text-[#605bff] scale-110 font-bold' 
                                 : cell === 1 
                                   ? 'text-[#605bff]/60'
                                   : 'text-white/20'}">
                      {cell}
                    </div>
                  {/each}
                {/each}

                <!-- Animated Overlay Effects -->
                {#if isProcessing}
                  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-[#605bff]/5 to-transparent
                              animate-pulse pointer-events-none"></div>
                {/if}
              </div>

              <!-- Processing Routes with Enhanced Animation -->
              <div class="relative">
                <div class="h-px bg-gradient-to-r from-transparent 
                           via-[#605bff]/50 to-transparent w-full mb-6 
                           {isProcessing ? 'animate-pulse' : ''}"></div>
                
                <!-- Dynamic Status Display -->
                <div class="bg-[#605bff]/10 rounded-xl p-4 flex items-center gap-3 text-white
                            transform transition-all duration-500
                            {isApproved ? 'scale-105' : 'opacity-80'}">
                  {#if isApproved}
                    <svg class="w-5 h-5 text-[#605bff] animate-bounce" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                      <path d="M5 13l4 4L19 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span class="text-[#605bff] font-medium">Transaction Approved</span>
                  {:else}
                    <svg class="w-5 h-5 text-[#605bff] animate-spin" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                      <path d="M12 22C6.5 22 2 17.5 2 12S6.5 2 12 2s10 4.5 10 10" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span class="text-[#605bff]">Processing...</span>
                  {/if}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Enhanced Decorative Elements -->
        <div class="absolute -top-8 -right-8 w-32 h-32 bg-[#605bff]/10 rounded-full blur-2xl animate-pulse"></div>
        <div class="absolute -bottom-12 -left-12 w-40 h-40 bg-[#605bff]/10 rounded-full blur-2xl animate-pulse"></div>
        {#if isProcessing}
          <div class="absolute inset-0 bg-gradient-to-r from-[#605bff]/5 via-transparent to-[#605bff]/5 animate-pulse"></div>
        {/if}
      </div>

      <!-- Right Content -->
      <div class="space-y-8">
        <h3 class="text-3xl font-medium text-[#32325d]">Routing</h3>
        <p class="text-xl text-[#32325d]/70">
          All transactions run through the best performing processing routes for higher conversion rates and at lower costs to you.
        </p>
  
        <!-- Feature List -->
        <div class="space-y-6">
          <div class="flex items-start gap-4">
            <div class="w-5 h-5 rounded-full bg-[#605bff]/10 flex items-center justify-center mt-1">
              <svg class="w-3 h-3 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M5 13l4 4L19 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div>
              <h4 class="text-lg font-medium text-[#32325d] mb-2">Intelligent Payment Routing:</h4>
              <p class="text-[#32325d]/70">
                Selects the route with the best chance of authorization.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Messaging Section -->
<section class="relative overflow-hidden bg-gradient-to-b from-slate-50 to-white py-24">
  <div class="absolute inset-0">
    <!-- Base gradient -->
    <div class="absolute inset-0 bg-gradient-to-br from-[#f8faff] via-white to-[#f0f4ff]"></div>
    
    <!-- Mesh gradient -->
    <div class="absolute inset-0"
         style="background: 
             radial-gradient(circle at 0% 0%, rgba(96, 91, 255, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 100% 0%, rgba(50, 50, 93, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 100% 100%, rgba(96, 91, 255, 0.03) 0%, transparent 50%),
             radial-gradient(circle at 0% 100%, rgba(50, 50, 93, 0.03) 0%, transparent 50%);">
    </div>

    <!-- Grid pattern -->
    <div class="absolute inset-0"
         style="background-image: 
            linear-gradient(rgba(96, 91, 255, 0.01) 1px, transparent 1px),
            linear-gradient(90deg, rgba(96, 91, 255, 0.01) 1px, transparent 1px);
            background-size: 40px 40px;">
    </div>

    <!-- Floating elements -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute top-1/4 right-1/4 w-[500px] h-[500px] 
                  bg-gradient-to-br from-[#605bff]/5 via-[#605bff]/3 to-transparent 
                  rounded-full animate-float-slow opacity-70"
           style="animation-duration: 25s;">
      </div>
      <div class="absolute -bottom-32 -left-32 w-[600px] h-[600px] 
                  bg-gradient-to-tr from-[#32325d]/5 via-[#605bff]/3 to-transparent 
                  rounded-full animate-float-slow opacity-70"
           style="animation-duration: 30s; animation-delay: -5s;">
      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="grid lg:grid-cols-2 gap-16 items-center">
      <!-- Left Content -->
      <div class="space-y-8">
        <h3 class="text-3xl font-medium text-[#32325d]">Messaging</h3>
        <p class="text-xl text-[#32325d]/70">
          Each issuing bank has different risk preferences and technologies. Automatically send the right payment data every time for maximum approval rates.
        </p>

        <!-- Feature List -->
        <div class="space-y-6">
          {#each [
            {
              title: 'Smart Payment Messaging:',
              desc: 'Adapts the format of payment messages to meet specific issuer preferences.'
            },
            {
              title: 'Account Updater:',
              desc: 'Lets you access up-to-date card details in real time.'
            },
            {
              title: 'Network Token Optimization:',
              desc: 'Exchanges card numbers for tokens to increase card approval rates.'
            }
          ] as feature}
            <div class="flex items-start gap-4">
              <div class="w-5 h-5 rounded-full bg-[#605bff]/10 flex items-center justify-center mt-1">
                <svg class="w-3 h-3 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M5 13l4 4L19 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <div>
                <h4 class="text-lg font-medium text-[#32325d] mb-2">{feature.title}</h4>
                <p class="text-[#32325d]/70">{feature.desc}</p>
              </div>
            </div>
          {/each}
        </div>
      </div>

      <!-- Right Content - Dynamic Payment Card Interface -->
      <div class="relative">
        <div class="absolute -inset-4 bg-gradient-to-r from-[#605bff]/10 to-transparent rounded-3xl blur-xl"></div>
        
        <div class="relative space-y-8">
          <!-- Payment Success Card -->
          <div class="bg-white rounded-2xl p-8 shadow-lg border border-[#605bff]/10
                      transform hover:scale-105 transition-all duration-500 group">
            <!-- Back Button -->
            <div class="flex items-center gap-3 mb-8">
              <button class="p-2 rounded-lg bg-[#605bff]/5 hover:bg-[#605bff]/10 transition-colors">
                <svg class="w-5 h-5 text-[#605bff]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M19 12H5m7 7l-7-7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>

            <!-- Success Content -->
            <div class="text-center space-y-6">
              <div class="relative">
                <div class="w-20 h-20 mx-auto bg-[#605bff]/5 rounded-full flex items-center justify-center
                            group-hover:scale-110 transition-transform duration-500">
                  <div class="absolute inset-0 bg-[#605bff]/20 rounded-full animate-ping"></div>
                  <svg class="w-10 h-10 text-[#605bff] relative" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M9 7h6m0 10h-6m-3-7h12M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" 
                          stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
              <h3 class="text-2xl font-medium text-[#32325d]">Payment successful</h3>
              <p class="text-[#32325d]/70">
                You successfully paid for your monthly subscription
              </p>
            </div>
          </div>

          <!-- Dynamic Payment Card -->
          <div class="relative group">
            <!-- Card Glow Effect -->
            <div class="absolute -inset-2 bg-gradient-to-r from-[#605bff]/20 to-[#605bff]/10 rounded-3xl blur-xl 
                        opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
            
            <!-- Card Content -->
            <div class="relative bg-[#0a1f44] rounded-2xl p-8 aspect-[1.586/1] flex flex-col justify-between
                        transform transition-all duration-500 group-hover:scale-105">
              <!-- Card Header -->
              <div class="flex justify-between items-start">
                <div class="space-y-1">
                  <span class="text-white/60 text-sm">NEW EXPIRY DATE</span>
                  <div class="flex items-center gap-2">
                    <div class="w-2 h-2 rounded-full bg-[#605bff] animate-pulse"></div>
                    <span class="text-white font-medium">Active</span>
                  </div>
                </div>
              </div>

              <!-- Card Details -->
              <div class="space-y-6">
                <!-- Cardholder Info -->
                <div class="flex items-center justify-between">
                  <div class="space-y-2">
                    <span class="text-white font-medium text-xl tracking-wide">D. Donovan</span>
                    <div class="flex items-center gap-2">
                      <span class="text-white/60">12/26</span>
                      <div class="w-1 h-1 rounded-full bg-[#605bff]"></div>
                      <span class="text-white/60 font-mono">****3456</span>
                    </div>
                  </div>
                </div>

                <!-- Card Network -->
                <div class="flex justify-end">
                  <div class="relative">
                    <div class="flex -space-x-3">
                      <div class="w-8 h-8 rounded-full bg-[#ff0000] opacity-90 transform group-hover:translate-x-1 transition-transform"></div>
                      <div class="w-8 h-8 rounded-full bg-[#ff9900] opacity-90 transform group-hover:-translate-x-1 transition-transform"></div>
                    </div>
                    <div class="absolute -inset-2 bg-white/5 rounded-full blur animate-pulse"></div>
                  </div>
                </div>
              </div>

              <!-- Dynamic Pattern -->
              <div class="absolute inset-0 overflow-hidden rounded-2xl opacity-10">
                <div class="absolute inset-0 bg-gradient-to-r from-[#605bff]/20 via-transparent to-[#605bff]/20"
                     style="background-size: 200% 100%; animation: shimmer 3s infinite linear;">
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Enhanced Decorative Elements -->
        <div class="absolute -top-8 -right-8 w-32 h-32 bg-[#605bff]/10 rounded-full blur-2xl animate-pulse"></div>
        <div class="absolute -bottom-12 -left-12 w-40 h-40 bg-[#605bff]/10 rounded-full blur-2xl animate-pulse animation-delay-500"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-[#605bff]/5 rounded-full blur-3xl animate-pulse animation-delay-1000"></div>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes float-slow {
    0%, 100% { 
      transform: translate(0, 0) rotate(0deg) scale(1); 
    }
    25% { 
      transform: translate(2%, 2%) rotate(1deg) scale(1.02); 
    }
    50% { 
      transform: translate(-1%, 3%) rotate(-1deg) scale(0.98); 
    }
    75% { 
      transform: translate(-2%, -1%) rotate(0.5deg) scale(1.01); 
    }
  }

  .animate-float-slow {
    animation: float-slow 20s ease-in-out infinite;
  }

  @keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
</style>